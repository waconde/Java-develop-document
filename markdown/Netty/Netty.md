## Netty 是什么？和Tomcat有什么区别？特点是什么？
Netty 是一个基于 NIO 的异步网络通信框架，性能高，封装了原生 NIO 编码的复杂度，开发者可以直接使用 Netty 来开发高效率的各种网络服务器，
并且编码简单。Tomcat 是一个 Web 服务器，是一个 Servlet 容器。基本上 Tomcat 内部只会运行 Servlet 程序，并处理 HTTP 请求。
而 Netty 封装的是底层 IO 模型，关注的是网络数据的传输，而不关心具体的协议，可定制性更高。

Netty 的特点：
1. 异步、NIO 的网络通信框架
2. 高性能
3. 高扩展，高定制性
4. 易用性

## Netty 的高性能体现在哪些方面？ 
1. NIO模型，用最少的资源做更多的事情。
2. 内存零拷贝，尽量减少不必要的内存拷贝，实现了更高效率的传输。
3. 内存池设计，申请的内存可以重用，主要指直接内存。内部实现是用一棵二叉查找树管理内存分配情况。
4. 串行化处理读写，避免使用锁带来的性能开销。即消息的处理尽可能在同一个线程内完成，期间不进行线程切换，这样就避免了多线程竞争和同步锁。
表面上看，串行化设计似乎 CPU 利用率不高，并发程度不够。但是，通过调整 NIO 线程池的线程参数，可以同时启动多个串行化的线程并行运行。
这种局部无锁化的串行线程设计相比一个队列加多个工作线程模型性能更优。
5. 高性能序列化协议，支持 protobuf 等高性能序列化协议。
6. 高效并发编程的体现，volatile 的大量且正确使用、CAS 和原子类的广泛使用、线程安全容器的使用、通过读写锁提升并发性能 

## Netty 线程模型
Netty 同时支持 Reactor 单线程模型、Reactor 多线程模型和 Reactor 主从多线程模型。用户可根据启动参数配置在这三种模型之间切换。
服务端启动时，通常会创建两个 NioEventLoopGroup 实例，对应了两个独立的 Reactor 线程池：bossGroup 负责处理客户端的连接请求，
workerGroup 负责处理 IO 相关的操作，执行系统 Task、定时任务 Task 等。
用户可根据服务端引导类 ServerBootstrap 配置参数选择 Reactor 线程模型，进而最大限度地满足用户的定制化需求。 
